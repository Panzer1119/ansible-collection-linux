---
# Disk Configuration
boot_disk: "/dev/sda"
boot_part_num: "1"
pool_disk: "/dev/sda"
pool_part_num: "2"
# If true, partition paths will be rendered as /dev/nvme0n1p1 (note the "p").
# If false, partition paths will be rendered as /dev/sda1.
is_nvme: false

# Optional APT proxy URL (e.g. http://aptproxy.local:3142). When set, a proxy
# config is written into the target system under /etc/apt/apt.conf.d/90proxy.
apt_proxy: ""

# ZFS Configuration
pool_name: "zroot"
# Boot environment dataset name under {{ pool_name }}/ROOT/<name>
# For backwards compatibility this defaults to the old zfs_id value.
zfs_boot_environment: "{{ zfs_id | default('linuxmint') }}"
# Backwards compatible alias (kept because other tasks/snapshots still use it)
zfs_id: "linuxmint"  # Used for the dataset name ({{ pool_name }}/ROOT/{{ zfs_id }})

# Ubuntu-installer-inspired dataset layout
# Toggle individual dataset groups on/off.
zfs_dataset_layout:
  create_srv: true
  separate_usr_local: true
  create_var_tree: true
  separate_var_log: true
  separate_var_cache: true
  separate_var_tmp: true
  separate_var_lib: true
  # Create datasets for a few "stateful" subdirs under /var/lib (Ubuntu does this).
  var_lib_subdatasets:
    - AccountsService
    - NetworkManager
    - apt
    - dpkg
  # Additional /var datasets (opt-in; keep minimal by default)
  extra_var_subdatasets:
    - games
    - mail
    - snap
    - spool
    - www

# Home/root datasets
# Keep the old behavior (single dataset {{ pool_name }}/home) by default.
zfs_legacy_home_dataset: true
# If enabled, create {{ pool_name }}/USERDATA and put /home + /root there.
zfs_use_userdata_container: false
# If enabled, create per-user home datasets under USERDATA.
zfs_per_user_home_datasets: false
# Optional list for per-user home datasets when zfs_per_user_home_datasets is enabled.
# Example:
# zfs_users:
#   - name: alice
#   - name: bob
zfs_users: []

# System Configuration
hostname: "linux-mint-zbm-test-vm"
root_password: "password" # Use a hashed password in production
default_user_name: "panzer1119"
default_user_password: "password" # Use a hashed password in production
timezone: "Europe/Berlin"

# OS Versions
ubuntu_codename: "noble"
mint_codename: "zara"
mint_version: "22.2.0"
mint_keyring_url: "http://packages.linuxmint.com/pool/main/l/linuxmint-keyring/linuxmint-keyring_2022.06.21_all.deb"
mint_timezone: "Europe/Berlin"
mint_locales:
  default: "en_US.UTF-8"
  generate:
    - "en_US.UTF-8"
    - "de_DE.UTF-8"
mint_keyboard:
  layout: "de"
  model: "pc105"
  variant: "nodeadkeys"
  options: ""
skip_configuration: false

installation_method: "squashfs"  # Options: "squashfs", "debootstrap"
apt_sources: "official"      # Options: "official", "custom"

# Chroot Configuration
chroot_path: "/mnt"
